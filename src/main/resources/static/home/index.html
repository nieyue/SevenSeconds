<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=no" name="viewport" />
<script type="text/javascript" src="static/js/jquery.min.js"></script>
<link rel="stylesheet" href="static/bootstrap-3.3.7-dist/css/bootstrap.min.css">
<link rel="stylesheet" href="static/css/index.css">
<title>七秒官网首页</title>

</head>
<body>
	<div class="container wrap" id="top">
	<!-- <div class="col-xs-4 col-xs-offset-4 col-sm-0 col-sm-offset-11 col-md-0 col-md-offset-11 back_top">
				<img src="static/imgs/bt1.jpg" id="back_img1" alt="" /> 
				<a href="#top" target="_self">
					<img src="static/imgs/bt2.jpg" id="back_img2" alt=""  />
				</a>	
	</div> -->
		<!-- 顶部目录栏 -->
		<div class="row">
		  <div class="col-xs-3 col-sm-1 col-md-3 top1">
		  	<img src="static/imgs/2.png" alt="" />
		  </div>
		  <div class="col-xs-4 col-sm-2 col-md-3 top2">
		  	<img src="static/imgs/qimiao.png" alt="" />
		  </div>
		  <div class="col-xs-12 col-sm-10 col-md-offset-7 col-md-7 hr"></div>
		  <div class="col-xs-12 col-sm-10 col-md-offset-5 col-md-5 top3">
		  		<div class="top3_div">
		  			<a href="javascript:;">首页</a>
		  		</div>
		  		<div class="top3_div">
		  			<a href="aboutUS.html">关于我们</a>
		  		</div>
		  		<div class="top3_div">
		  			<a href="javascript:;">自媒体</a>
		  		</div>
		  		<div class="top3_div">
		  			<a href="javascript:;">广告合作</a>   
		  		</div>
		  </div>
		  
		  <div class="col-xs-12 col-sm-10 col-xs-12 col-sm-10 col-md-2 top4">
		  	<div class="top4_login login">
		  		<a href="javascript:;">登录</a>
		  	</div>
		  	<!-- <div>
		  		<a>|</a>
		  	</div>	 -->
		  	<div class="top4_login">
		  		<a href="javascript:;">注册</a>
		  	</div>		
		  </div>
		</div>
		<!-- 轮播图 -->
		<div class="row" style="top: -14.4px;position: relative;">
  			<div class="col-xs-10 col-sm-8 col-md-12 contain" >
  				<div class="col-xs-10 col-sm-8 col-md-10 list"> 
						<img id="my_img" src="" alt="" /> 
				</div>
				
				<!-- <div id="buttons">
					<span index="1" class="on"></span>
					<span index="2"></span>
					<span index="3"></span>
					<span index="4"></span>
					<span index="5"></span>
					<span index="6"></span>
					<span index="7"></span>
				</div>  -->
				
				<div class="col-xs-12 col-sm-12 col-md-10 title_div">
					
				</div>
				<!-- 上一张，下一张两个按钮 -->
				<!-- <div class="col-xs-1 col-sm-1 col-md-1 arrow_prev arrow_div">
					<a href="javascript:;" id="prev" >&lt;</a>
				</div>
				<div class="col-xs-1 col-sm-1 col-md-1 arrow_next arrow_div">
					<a href="javascript:;" id="next" >&gt;</a>
				</div> -->
				
				<!-- <a href="javascript:;" id="prev" class="arrow">&lt;</a>
				<a href="javascript:;" id="next" class="arrow">&gt;</a> -->
				
				<div class="col-xs-3 col-sm-3 col-md-2 contain_pic">
				
		   		</div> 	
	  		</div>
		</div>
		
		<!-- 新闻展示 -->
		<div class="row" id="news_div" style="position: relative;top:-5px;">
			<!-- 左边目录栏  -->
			<div class="col-xs-2 col-sm-2 col-md-2  catalog_div">
				<div class="catalog" ><a id="cata1">新闻</a></div>
				<div class="catalog"><a id="cata2" >推广</a></div>
				<div class="catalog"><a id="cata3" >游戏</a></div>
				<div class="catalog"><a id="cata4" >军事</a></div>
				<div class="catalog"><a id="cata5" >生活</a></div>	
				<div class="catalog"><a id="cata6" >法治</a></div>
				<div class="catalog"><a id="cata7" >娱乐</a></div>
				<div class="catalog"><a id="cata8" >社会</a></div>
				<div class="catalog"><a id="cata9" >科技</a></div>	
			</div >
			<!-- 右边内容展示：  -->
			<div class="col-xs-10 col-sm-10 col-md-8 col-md-offset-2  pic_div" style="top: 13px;padding:0px 0px;"> 
				<!-- 无图 -->
				  <!-- <div class="col-xs-10 col-sm-10 col-md-10 pic_none">
					<div class="pic_none_title"><a href="">然后图片上的div 设置一个百分比的宽度，高度不设置    最后 图片 宽度设置100% 高度不设置</a></div>
					<div class="pic_none_bttom">
						<div class="pic_none_comment">33评论</div>
						<div class="pic_none_read">145阅读</div>
					</div>
				</div>  -->
				
				<!-- 一张图 -->
				 <!-- <div class="col-xs-10 col-sm-10 col-md-10 pic_one">
					<div class="pic_one_pic">
						<img src="static/imgs/a1.jpg" alt="" />
					</div>
					<div class="pic_one_title">
						孩子俩月了，才发现老婆竟早已感染了艾滋！丈夫怒诉婚检机构索赔，结果很多人大呼意外...
					</div>
					<div class="pic_one_bottom">
						<div class="pic_one_comment">33评论</div>
						<div class="pic_one_read">145阅读</div>
					</div>
				</div> -->
				
				<!-- 二张图 -->
				<!-- <div class="col-xs-10 col-sm-10 col-md-10 pic_two">
					<div class="pic_two_title">
						孩子俩月了，才发现老婆竟早已感染了艾滋！丈夫怒诉婚检机构索赔，结果很多人大呼意外...
					</div>
					<div class="pic_two_img">
						<img src="static/imgs/a1.jpg" alt="" />
						<img src="static/imgs/a1.jpg" alt="" />
					</div>
					<div class="col-xs-10 col-sm-10 col-md-10 pic_two_bottom">
						<div class="pic_two_comment">33评论</div>
						<div class="pic_two_read">145阅读</div>
					</div>
				</div> -->
				<!-- 三张图 -->
				 <!-- <div class="pic_three">
					<div class="pic_three_title">
						孩子俩月了，才发现老婆竟早已感染了艾滋！丈夫怒诉婚检机构索赔，结果很多人大呼意外...
					</div>
					<div class="pic_three_img">
						<img src="static/imgs/a1.jpg" alt="" />
						<img src="static/imgs/a1.jpg" alt="" />
						<img src="static/imgs/a1.jpg" alt="" />
					</div>
					<div class="col-xs-10 col-sm-10 col-md-10 pic_three_bottom">
						<div class="pic_three_comment">33评论</div>
						<div class="pic_three_read">145阅读</div>
					</div>
				</div>
			</div>  -->
			
		</div>
		<div class="col-xs-10 col-xs-offset-2 col-sm-10 col-sm-offset-2 col-md-12 col-md-offset-0 load_more " style="top:18px;">     
			<button type="button" id="load_but" class="btn btn-info">加载更多...</button>
		</div>
	</div>
	
	<!-- 七秒资讯.一触即发 -->
	<div class="row">
		<div class="col-xs-12 col-sm-12 col-md-12 qm">
			<p>七秒资讯●一触即发</p>
		</div>
		<div class="col-xs-8 col-xs-offset-2 col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 qm_pic">
			<img src="static/imgs/p1.png" alt="" />
			<img src="static/imgs/p2.png" alt="" />
			<img src="static/imgs/p3.png" alt="" />
			<img src="static/imgs/p4.png" alt="" />
		</div>
	</div>
	
	<!-- 底部图片 -->
	<div class="row">
		<div class="col-xs-12 col-sm-12 col-md-12 bottom_pic">
			<img src="static/imgs/b1.png" alt="" />
			
			<div class="col-xs-8 col-xs-offset-2 col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 content_method">		
				<div class="blank">
					<div class="blank_div" readonly="true" >
						<div class="blank_div1"> 公司邮箱：</div>
						<div class="blank_div2">367171548@qq.com</div>
					</div>
					<div class="blank_div" readonly="true" >
						<div class="blank_div1"> 公司地址：</div>
						<div class="blank_div2"> 长沙市岳麓区麓谷街道麓谷企业广场E8栋1单元3楼</div>
					</div>
					<div class="blank_div" readonly="true" >
						 <div class="blank_div1"> 公司名称：</div>
						 <div class="blank_div2"> 长沙嘉行煜发网络科技有限公司</div>
					</div>
					<!-- <input type="text" alt="" value="公司邮箱：              367171548@qq.com" readonly="true"/>
					<input type="text" alt="" readonly="true"/>
					<input type="text" alt="" readonly="true"/> -->
					<!-- <img src="static/imgs/j1.png" alt="" />
					<img src="static/imgs/j1.png" alt="" />
					<img src="static/imgs/j1.png" alt="" /> -->
				</div>
				<div class="blank_pic">
					<img src="static/imgs/y1.png" alt="" />
					<img src="static/imgs/y2.png" alt="" />
					<img src="static/imgs/y1.png" alt="" />
				</div>
				<div class="blank_sp">
					<img src="static/imgs/bp1.png" alt="" />
					<img src="static/imgs/bp2.png" alt="" />
					<img src="static/imgs/bp3.png" alt="" />
				</div>
			</div>
			<!-- 二维码 -->
			<div class="col-xs-3 col-xs-offset-4 col-sm-2 col-sm-offset-4 col-md-4 col-md-offset-4 andriod_code">
				<img src="static/imgs/AndriodCode.png" alt="" />
			</div>
		</div>
		
	</div>
	<!-- 底部 -->
	<div class="row">
		<div class="col-xs-12 col-sm-12 col-md-12 bottom_div">
			<div class="col-xs-8 col-xs-offset-2 col-sm-6 col-sm-offset-3 col-md-8 col-md-offset-2 bottom_ml">
				<div class="bottom_a">
					<a href="javascript:;">加入七秒</a>
				</div>
				<div class="bottom_a">
					<a href="javascript:;">用户协议</a>
				</div>
				<div class="bottom_a">
					<a href="javascript:;">企业服务</a>
				</div>
				<div class="bottom_a">
					<a href="helpCenter.html" target="_blank">帮助中心</a>
				</div>	
				<div class="bottom_a">
					<a href="contactUS.html" target="_blank">联系我们</a>
				</div>	
			</div>
			<div class="col-xs-4 col-xs-offset-4 col-sm-4 col-sm-offset-4 col-md-6 col-md-offset-3 download">
				<div class="download_div ">
					<a href="javascript:;"><img  id="download_ad" src="static/imgs/andriod.png" alt="" /></a>
				</div>
				<div class="download_div">
					<a href="javascript:;"><img src="static/imgs/ios.png" alt="" /></a>
				</div>				
			</div>
		</div>
	</div>
</div>			 	
<script>
	//1、给顶部栏目添加点击事件
	//ct当前显示的栏目 
	var ct=0;
	/* $($(".top3").find("a")[ct]).css({"background-color":"#2eb4f1","font-weight": "700"}) */				 
	$(".top3").find("a")[ct].className="tp";
	clickTop();
	function clickTop(){
		$(".top3").find("a").each(function(i,e){
			$(e).on("click",function(){
				if(ct==i){
					return;
				}
				$(".top3").find("a")[ct].className="";
				$($(".top3").find("a")[ct]).css("color","#333");
				$(".top3").find("a")[i].className="tp";
				$($(".top3").find("a")[i]).css("color","white");
				ct=i;
			});
		});
	}
	//2、轮播图展示： 
	//轮播图js 宽度、高度都是根据最外层的div的高度来的，可以达到自适应的效果 ,
	//图片张数也是根据传入图片张数参数来确定  ，可以达到不确定图片张数自动轮播的效果   
		//定义一个数组用于 存放轮播图的图片 
		var picArray=new Array();
		//定义一个数组用于 存放轮播图的文章标题
		var titleArray=new Array();
		//定义一个数组用于 存放轮播图的文章Id
		var articleIdArray=new Array();
		 /* var arr=[
		         'static/imgs/64.jpg',
		         'static/imgs/641.jpg',
		         'static/imgs/642.jpg',
		         'static/imgs/643.jpg',
		         'static/imgs/644.jpg',
		         ];  */
		
	//发送ajax请求获取轮播图所需要的信息 ： 图片 、文章标题、文章ID 		
		getSolid();
		//获取热门置顶文章的信息(就是轮播图需要展示的文章)    fixedRecommend 热门置顶文章 
		function getSolid(){
			var picUrl="http://www.newzhuan.cn/article/list";
			//http://www.newzhuan.cn/article/list?fixedRecommend=1
			$.ajax({
				url:picUrl,
				data:{"fixedRecommend":1},
				async:false,
				dataType:"json",
				type:"get",
				success:function(result){
					console.log(result.list);
					var res=result.list;
					  for(var i=0;i<res.length;i++){
						  var title=res[i].title;
						  var articleId=res[i].articleId;
						  var picList=res[i].imgList;
						  //判断是否有图片 
						  if(picList.length>0){
							  titleArray.push(title);
							  articleIdArray.push(articleId);
							  //获取图片、并添加到数组里面 
							  var address=picList[0].imgAddress;
							  picArray.push(address);
						  }
					} 
				}	
			});
		}
			
		//总共有多少张图片
		var totalIndex=picArray.length;	
		//index 记录当前图片是第几张图片  
		var index=0;
		//自动轮播的定时器
		var timer;
		
		var solidUrl="http://www.newzhuan.cn/article.html?articleId="; 
		
		$("#my_img").attr("src",picArray[index]);
		//往上移动一张图片函数   
		function prevMover(){
			index--;
			if(index<0){
				index=totalIndex-1;
			}
			//index=Math.max(0,--index);
			$("#my_img").attr("src",picArray[index]);
			showSmallPic();
			addTitle();
		}
		//往下移动一张图片函数  	 
		function nextMover(){
			index++;
			if(index>totalIndex-1){
				index=0;
			}
			//index=Math.min(len-1,++index);
			$("#my_img").attr("src",picArray[index]);
			showSmallPic();
			addTitle();
		}
		//根据传入参数，跳转图片 
		var count=0;
		function mover(count){
			$("#my_img").attr("src",picArray[count]);
			addTitle();
		}
		//自动轮播
		function moverAuto(){
			timer=setInterval(function(){
				nextMover();
			},5000);
		}
		//启动自动轮播
		function paly(){
			moverAuto();
		}
		//关闭自动轮播 
		function stop(){
			clearInterval(timer);
		}
		paly();
		
		for(var i=0;i<picArray.length;i++){
			$(".contain_pic").append("<img src='"+picArray[i]+"' alt='' index='"
												 +i+"'/>"); 
		}
		
		$(".contain_pic img")[index].className="on";
		for(var i=0;i<$(".contain_pic img").length;i++){
			$(".contain_pic img")[i].onclick=function(){
				//如果点击了当前显示的按钮那么不会有任何执行，直接return 
				if($(this).attr("class")=="on"){
					return;
				}
				var clickIndex=$(this).attr("index");
				//console.log(clickIndex+"------"+index);
				$(".contain_pic img")[index].className=""
				index=clickIndex;
				$(".contain_pic img")[index].className="on";
				mover(index);
				showSmallPic();
				//addTitle();
		}
	}
	//右边小图标根据左边图片自动切换 
	function showSmallPic(){
		//先清空已经存在的 透明样式 
		for(var i=0;i<$(".contain_pic img").length;i++){
			if($(".contain_pic img")[i].className=="on"){
				$(".contain_pic img")[i].className=""
				break;
			}
		}
		$(".contain_pic img")[index].className="on";
	}		
	//自动动态添加文章标题函数  
	addTitle();
	function addTitle(){
		$(".title_div").empty();
		$(".title_div").append("<a href='"+solidUrl+articleIdArray[index]+"'>"+titleArray[index]+"</a>");
	}
	
//3、获取新闻内容并展示：   
			var ul="http://www.newzhuan.cn";  
			var pageNum=1,pageSize=10;
			var url=ul+"/article/list?type=新闻";
			getNewsInfo(url);
			
			var tag=0;
			$(".catalog_div").find("a")[tag].className="cate_on";
			//给左边目录栏添加 点击事件 
			$(".catalog_div").find("a").each(function(i,e){
				$(e).on("click",function(){
					//判断如果点击的是当前展示的type,那么不会有任何执行  
					 if(tag==i){
						return; 
					 }
					 //根据点击的类型，获取不同的url 
					 if(i==0){
							url=ul+"/article/list?type=新闻"			
						}
						if(i==1){
							url=ul+"/article/list?type=推广"		
						}
						if(i==2){
							url=ul+"/article/list?type=游戏"
						}
						if(i==3){
							url=ul+"/article/list?type=军事"
						}
						if(i==4){
							url=ul+"/article/list?type=生活"
						}
						if(i==5){
							url=ul+"/article/list?type=法治"
						}
						if(i==6){
							url=ul+"/article/list?type=娱乐" 
						}
						if(i==7){
							url=ul+"/article/list?type=社会"
						}
						if(i==8){
							url=ul+"/article/list?type=科技"
						}
					 //点击后，先清除上一个type的cate_on样式，再为当前点击的type添加cate_on样式(背景颜色样式) 
					 $(".catalog_div").find("a")[tag].classList.remove("cate_on");
					 $(this).addClass("cate_on");
					 tag=i;
					 //先清空pic_div，再根据点击的type获取数据，展示  
					 $(".pic_div").empty(); 
					 getNewsInfo(url)
				});
			});
			
			//为加载更多添加点击事件
			$("#load_but").on("click",function(){
				pageNum=pageSize+pageNum;
				//console.log(url);
				getNewsInfo(url);
				return;
			});
			
			//获取新闻信息
			function getNewsInfo(url){
				 $.ajax({
					 url:url,
					 data:{"pageNum":pageNum,"pageSize":pageSize},
					 dataType:"json",
					 type:"get",
					 success:function(result){ 
						 var result=result.list;
						console.log(result);
						showPic(result);
					 }	 
				 });
			}
			
			//动态展示文章信息 
			 function showPic(result){
		   		  for(var i=0;i<result.length;i++){
			    	var title=result[i].title;
			    	var picNum=result[i].imgList.length;
			    	var comments=result[i].commentNumber;
			    	var read=result[i].readingNumber;
			    	var articleId=result[i].articleId;
			    	console.log(title+"--"+picNum+"--"+comments+"--"+read+"--"+articleId);
			    	
			    	var urll="http://www.newzhuan.cn/article.html?articleId="; 
			    	
			    	//判断是否有图片 
			    	//1、没图片
			    	/* if(picNum==0){
			    		$(".pic_div").append("<div class='col-xs-offset-2 col-xs-10 col-sm-offset-2 col-sm-10 col-md-offset-2 col-md-10 pic_none'><div class='pic_none_title'><a href='"
			    				  +urll
			    				  +articleId+"'>"
			    				  +title+"</a></div><div class='pic_none_bttom'><div class='pic_none_comment'>"
			    				  +comments+"评论</div><div class='pic_none_read'>"
			    				  +read+"阅读</div></div></div>");
			    	}  */
			    	
					//一张图片
			    	//2、判断是否有图片  
			    	if(picNum>0){
			    		var picUrl=result[i].imgList[0].imgAddress;				    	
				    		if(picNum==1){	
				    		//一张图片展示 
				    			$(".pic_div").append("<div class='col-xs-offset-2 col-xs-10 col-sm-offset-2 col-sm-10 col-md-offset-2 col-md-10 pic_one'><div class='pic_one_pic'>"
		    							 +"<a href='"
		    							 +urll
		    							 +articleId+"'><img alt='' src='"
		    							 +picUrl+"'></a></div><div class='pic_one_title'><a href='"
		    							 +urll
		    							 +articleId+"'>"
		    							 +title+"</a></div><div class='pic_one_bottom'><div class='pic_one_comment'>"
		    							 +comments+"评论</div><div class='pic_one_read'>"
		    							 +read+"阅读</div></div></div>");	
				    		}
				    		//两张图片 
			    			if(picNum==2){
			    				var picUrl1=result[i].imgList[1].imgAddress;
			    				$(".pic_div").append("<div class='col-xs-offset-2 col-xs-10 col-sm-offset-2 col-sm-10 col-md-offset-2 col-md-10 pic_two'><div class='pic_two_title'><a href='"
			    						+urll
			    						+articleId+"'>"
				    					+title+"</a></div><div class='pic_two_img'><a href='"
				    					+urll
				    					+articleId+"'><img alt='' src='"
				    					+picUrl+"'></a><a href='"
				    					+urll
				    					+articleId+"'><img alt='' src='"
				    					+picUrl1+"'></a></div><div class='col-xs-10 col-sm-10 col-md-10 pic_two_bottom'><div class='pic_two_comment'>"
				    					+comments+"评论</div><div class='pic_two_read'>"
				    					+read+"阅读</div></div></div>");
			    			} 
							//三张图
			    			if(picNum==3){
			    				var picUrl1=result[i].imgList[1].imgAddress;
			    				var picUrl2=result[i].imgList[2].imgAddress;
			    				$(".pic_div").append("<div class='col-xs-offset-2 col-xs-10 col-sm-offset-2 col-sm-10 col-md-10 col-md-offset-2 pic_three'><div class='pic_three_title'><a href='"
			    						+urll
			    						+articleId+"'>"
				    					+title+"</a></div><div class='pic_three_img'><a href='"
				    					+urll
				    					+articleId+"'><img alt='' src='"
				    					+picUrl+"'></a><a href='"
				    					+urll
				    					+articleId+"'><img alt='' src='"
				    					+picUrl1+"'></a><a href='"
				    					+urll
				    					+articleId+"'><img alt='' src='"
				    					+picUrl2+"'></a></div><div class='col-xs-10 col-sm-10 col-md-offset-2 col-md-10 pic_three_bottom'><div class='pic_three_comment'>"
				    					+comments+"评论</div><div class='pic_three_read'>"
				    					+read+"阅读</div></div></div>");
			    			} 	
			    	}		
		   		 }
			}
			
			//给底部下载按钮添加点击事件
			/* $("#download_ad").on("click",function(){
				console.log("aaaa");
				$(".andriod_code").css("display","block");
				setTimeout(function(){
					$(".andriod_code").css("display","none");
				},5000); 
			});  */
		   
			//给底部下载按钮添加mouseover mouseout事件
			$("#download_ad").on({
				mouseover:function(){
					$(".andriod_code").css("display","block");
				},
				mouseout:function(){
					$(".andriod_code").css("display","none");
				}
			});
			
			//获取(heig)最外层div的高度 
			var heig=786;
			function getHeight(){
				heig=$("#news_div").height();
				//console.log(heig);
			}
			setInterval(function(){
				getHeight();
			},1);
				 
			//下滑，样式调整 ：保持左边目录栏位置滑动，并自适应
			$(window).scroll(function(){ 
                var scol=$(this).scrollTop();
                //console.log(scol);
                if(scol>0){
                	$(".back_top").css("display","block");
                	$(".back_top").css("top",700+scol);
                }else{
                	$(".back_top").css("display","none");
                }
                
                //console.log(scol-665.4);
                if(scol>665.4){
                	$(".catalog_div").css("top",scol-665.4);
                	//console.log(parseInt($(".catalog_div").css("top")));
                		if(parseInt($(".catalog_div").css("top"))>heig-580){
                			$(".catalog_div").css("top",heig-580);
                		} 
                		
                }else{
                	$(".catalog_div").css("top",0);
                } 
             });	  
			
			//给顶部目录栏，添加点击事件 
			
			
			
			/*  
			//字体自适应函数  
			function fontSize(){
				 var deviceWidth = $(document).width();
				 if(deviceWidth < 640){
				     deviceWidth = 640;
				     console.log(deviceWidth);
				 }
				  
				 var fontSize = deviceWidth / 30.4;
				 $("html").css("fontSize",fontSize);
				 console.log(fontSize)
				 }
				  
				 fontSize();
				  
				 $(window).resize(function(){
				     fontSize();
				 }); */
             

</script>
	
</body>
</html>